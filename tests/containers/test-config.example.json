{
  "scenarios": [
    {
      "name": "codex-cli-solarwinds",
      "image": "agent-skills-codex-cli:local",
      "build": {
        "context": "tests/containers/images/codex-cli",
        "dockerfile": "Dockerfile",
        "args": {
          "CODEX_VERSION": "latest",
          "DOTNET_CHANNEL": "10.0"
        }
      },
      "agent": "codex",
      "requiredEnv": ["OPENAI_API_KEY"],
      "setupCommands": [
        "printenv OPENAI_API_KEY | codex login --with-api-key",
        "codex --version"
      ],
      "prompts": [
        {
          "name": "skill-solarwinds-logs-missing-token",
          "command": "codex exec --sandbox danger-full-access --full-auto --skip-git-repo-check \"Use the solarwinds-logs skill to search logs for the term 'timeout'. If the logs tool is not installed, install it with ./init.sh --install-tool solarwinds-logs. If SOLARWINDS_API_TOKEN is missing, ask for it and stop before running the tool.\""
        },
        {
          "name": "skill-solarwinds-logs-with-token",
          "env": ["SOLARWINDS_API_TOKEN"],
          "command": "codex exec --sandbox danger-full-access --full-auto --skip-git-repo-check \"The SOLARWINDS_API_TOKEN is now set. Use the solarwinds-logs skill to search logs for the term 'timeout' and summarize the results.\""
        }
      ]
    },
    {
      "name": "claude-code-solarwinds",
      "image": "agent-skills-claude-code:local",
      "build": {
        "context": "tests/containers/images/claude-code",
        "dockerfile": "Dockerfile",
        "args": {
          "CLAUDE_CODE_VERSION": "latest",
          "DOTNET_CHANNEL": "10.0"
        }
      },
      "agent": "claude",
      "requiredEnv": ["ANTHROPIC_API_KEY"],
      "setupCommands": [
        "claude --version"
      ],
      "prompts": [
        {
          "name": "skill-solarwinds-logs-missing-token",
          "command": "printf \"Use the solarwinds-logs skill to search logs for the term 'timeout'. If the logs tool is not installed, install it with ./init.sh --install-tool solarwinds-logs. If SOLARWINDS_API_TOKEN is missing, ask for it and stop before running the tool.\\n\" | claude"
        },
        {
          "name": "skill-solarwinds-logs-with-token",
          "env": ["SOLARWINDS_API_TOKEN"],
          "command": "printf \"The SOLARWINDS_API_TOKEN is now set. Use the solarwinds-logs skill to search logs for the term 'timeout' and summarize the results.\\n\" | claude"
        }
      ]
    }
  ]
}
